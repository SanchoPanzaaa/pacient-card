<ng-container *ngIf="data$ | async as data">

  <table
          mat-table
          matSort
          [dataSource]="data"
          matSortDirection="asc"
          multiTemplateDataRows
          class="patient-list" >

          <ng-container [matColumnDef]="col"
                        *ngFor="let col of displayedColumns; let i = index;">

                        <th mat-header-cell *matHeaderCellDef mat-sort-header="{{ col }}">
                        {{ col }}
                        </th>
                        <td mat-cell  *matCellDef="let element">{{ element[col] }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row
              (click)="execute(row)"
              [class.demo-row-is-clicked]="clickedRow.has(row)"
              *matRowDef="let row; columns: displayedColumns"  ></tr>
  </table>

</ng-container>
